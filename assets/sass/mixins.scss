@charset 'UTF-8';

/// Replace `$search` with `$replace` in `$string`
/// @author Hugo Giraudel
/// @param {String} $string - Initial string
/// @param {String} $search - Substring to replace
/// @param {String} $replace ('') - New value
/// @return {String} - Updated string
@function str-replace($string, $search, $replace: '') {
  $index: str-index($string, $search);

  @if $index {
    @return str-slice($string, 1, $index - 1) + $replace + str-replace(str-slice($string, $index + str-length($search)), $search, $replace);
  }

  @return $string;
}

// SVG Icons to use in background-images
@mixin vd-background-image-icon($path, $fill-color, $viewbox-x: 41, $viewbox-y: 41) {
  $color: str-replace(#{$fill-color}, '#', '%23');

  background-image: url("data:image/svg+xml;charset=UTF-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='100%' height='100%' viewBox='0 0 #{$viewbox-x} #{$viewbox-y}' preserveAspectRatio='xMidYMid meet'%3E%3Cpath fill='#{$color}' d='#{$path}'/%3E%3C/svg%3E");
}

@mixin vd-pattern-dotted($code, $viewbox-x: 4, $viewbox-y: 4) {
  background-image: url("data:image/svg+xml;charset=UTF-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='100%' height='100%' viewBox='0 0 #{$viewbox-x} #{$viewbox-y}' preserveAspectRatio='xMidYMid meet'%3E#{$code}%3C/svg%3E");
  background-repeat: repeat;
  background-size: #{$viewbox-x}px #{$viewbox-y}px;
}

@mixin vd-smart-underline($color: $gray-lightest, $background: $body-bg, $size: 8px, $position: 0.6em) {
  display: inline;
  background-image: linear-gradient($background 50%, $color 50%);
  background-size: 1px $size;
  background-repeat: repeat-x;
  background-position: 0 $position;
  text-decoration: none;
}
